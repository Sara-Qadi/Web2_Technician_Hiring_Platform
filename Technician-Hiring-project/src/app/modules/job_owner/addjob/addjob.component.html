<app-navbar-admin></app-navbar-admin>
<div class="container w-50 my-5 p-5 rounded-2">
  <form class="row g-3" [formGroup]="addJobForm" (ngSubmit)="onSubmit()" enctype="multipart/form-data">
    <h3>Post a New Job</h3>
    <div class="col-12 mb-2">
      <label for="inputJobTitle" class="form-label mb-3">Job Title</label>
      <input type="text" formControlName="title" class="form-control" id="inputJobTitle" placeholder="e.g., Kitchen Renovation Project">
      <div class="text-danger warning">
        @if(addJobForm.controls['title'].errors?.['required'] && addJobForm.controls['title'].touched){
          <span>This field is Required</span>
        }
      </div>
    </div>

    <div class="col-12 mb-2">
      <label for="inputCategory" class="form-label mb-3">Category</label>
      <select id="inputCategory" class="form-select" aria-label="Default select example" formControlName="category">
        <option disabled selected>Open this select menu</option>
        <option value="Carpenter">Carpenter</option>
        <option value="Plumber">Plumber</option>
        <option value="Electrician">Electrician</option>
        <option value="Painter">Painter</option>
        <option value="Mason">Mason</option>
        <option value="Roofing">Roofing Specialist</option>
        <option value="Mechanic">Mechanic</option>
        <option value="Welder">Welder</option>
        <option value="Tiler">Tiler</option>
        <option value="AC Technician">AC Technician</option>
        <option value="Security Camera Installer">Security Camera Installer</option>
        <option value="Other">Other</option>
      </select>
      <div class="text-danger warning">
        @if(addJobForm.controls['category'].errors?.['required']&& addJobForm.controls['category'].touched){
          <span>This field is Required</span>
        }
      </div>
    </div>

    <div class="col-md-6 mb-2">
      <label for="inputMinBudget" class="form-label mb-3">Minimum Budget ($)</label>
      <input type="number" formControlName="minimum_budget" class="form-control" id="inputMinBudget" placeholder="e.g., 10" required>
      <div class="text-danger warning">
        @if(addJobForm.controls['minimum_budget'].errors?.['required']&& addJobForm.controls['minimum_budget'].touched){
          <span>This field is Required</span>
        }
      </div>
    </div>

    <div class="col-md-6 mb-2">
      <label for="inputMaxBudget" class="form-label mb-3">Maximum Budget ($)</label>
      <input type="number" formControlName="maximum_budget" class="form-control" id="inputMaxBudget" placeholder="e.g., 1000" required>
      <div class="text-danger warning">
        @if(addJobForm.controls['maximum_budget'].errors?.['required']&& addJobForm.controls['maximum_budget'].touched){
          <span>This field is Required</span>
        }
      </div>
    </div>

    <div class="col-12 mb-2">
      <label for="inputLocation" class="form-label mb-3">Location</label>
          <input type="text" formControlName="location" class="form-control" id="inputLocation" placeholder="e.g., New York City">
      <!--<select id="inputLocation" class="form-select" aria-label="Default select example" formControlName="location">
        <option disabled selected>Open this select menu</option>
        <option value="Nablus">Nablus</option>
        <option value="Tulkarm">Tulkarm</option>
        <option value="Jerusalem">Jerusalem</option>
        <option value="Jenin">Jenin</option>
        <option value="Qalqilya">Qalqilya</option>
        <option value="Tubas">Tubas</option>
        <option value="Jéricho">Jéricho</option>
        <option value="Hebron">Hebron</option>
        <option value="Bethlehem">Bethlehem</option>
        <option value="Ramallah">Ramallah</option>
        <option value="Gaza">Gaza</option>
      </select>-->
      <div class="text-danger warning">
        @if(addJobForm.controls['location'].errors?.['required']&& addJobForm.controls['location'].touched){
          <span>This field is Required</span>
        }
      </div>
    </div>

    <div class="col-12 mb-2">
      <label for="inputDeadline" class="form-label mb-3">Deadline</label>
      <input type="date" formControlName="deadline" class="form-control" id="inputDeadline" >
      <div class="text-danger warning">
        @if(addJobForm.controls['deadline'].errors?.['required']&& addJobForm.controls['deadline'].touched){
          <span>This field is Required</span>
        }
      </div>
    </div>

    <div class="col-12 mb-2">
      <label for="inputJobDescription" class="form-label mb-3">Job Description</label>
      <textarea class="form-control" formControlName="description" id="inputJobDescription" rows="3" placeholder="Describe the job in detail..."></textarea>
      <div class="text-danger warning">
        @if(addJobForm.controls['description'].errors?.['required']&& addJobForm.controls['description'].touched){
          <span>This field is Required</span>
        }@else if(addJobForm.controls['description'].errors?.['minlength']&& addJobForm.controls['description'].touched){
          <span> Minimum 50 characters required</span>
        }
      </div>
    </div>


    <div class="col-12 mb-2" id="Attachments">
      <p>Attachments (Optional)</p>
      <label for="inputAttachments" class="form-label mb-3" id="AttachmentsLabel">
        <div class="Attachmentcontent mt-1" >
          <span>Supports: Images (JPG, PNG) and PDF files</span>
          <input type="file" class="form-control col-12"  name="attachments" id="inputAttachments" (change)="onFileChange($event)" ><!--formControlName="attachments" -->
        </div>
      </label> 
    </div> 

    <div class="col-12 d-grid " *ngIf="!jobId">
      <button type="submit"  class="btn btn-primary"[disabled]="addJobForm.invalid">Post Job</button><!-- (click)="onSubmit()" (click)="tojobowner()" -->
    </div>
    <div class="row" *ngIf="jobId">
      <div  class="col-md-6 mb-2">
        <button type="submit" class="btn btn-primary w-100" >Update Job</button><!-- (click)="onSubmit()" (click)="tojobowner()" -->
      </div>
      <div class="col-md-6 mb-2">
        <button type="button" class="btn btn-secondary w-100" (click)="cancelEdit()" >Cancel</button><!-- (click)="tojobowner()" -->

      </div>
    </div>
    
  </form>
</div>

<app-footer-admin></app-footer-admin>
